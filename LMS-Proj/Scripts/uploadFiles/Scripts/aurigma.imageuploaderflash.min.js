(function(n,t){function a(){this._simpleProperties=[{name:"id",getter:1,setter:1,isAttribute:!0}]}function o(){this._eventNames=["initComplete","preRender"]}var i=(n.Aurigma||(n.Aurigma={__namespace:!0}))&&(n.Aurigma.ImageUploaderFlash||(n.Aurigma.ImageUploaderFlash={__namespace:!0})),h=i,y={_cache:{},_uid:0,put:function(n){if(typeof n!="undefined"){var t=n.id();t||(t="_obj"+ ++this._uid,n.id(t)),n._cacheId=t,this._cache[t]=n}},get:function(n){var i=this._cache,t,r;if(i[n])return i[n];for(t=0,r=i.length;t<r;t++)if(i[t]&&i[t].id()===n)return i[t];return null}},f=function(n){i.debug().showInfo(n)},u=function(n){i.debug().showError(n)},p=function(n){if(n&&typeof n.replace=="function"){var t=[['"',"&#34;"],["'","&#39;"],["&","&#38;"],["<","&#60;"],[">","&#62;"]],i=/\"|\'|&|<|>/g;return n.replace(i,function(n){for(var i=0,r=t.length;i<r;i++)if(n==t[i][0])return t[i][1];return n})}return n},d=n.getCurrentUrl=function(){return document.location.href},k=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)})},w=[],b=function(n,t){return w[n.id()+"_"+t]||(w[n.id()+"_"+t]="__"+t+"_"+k().replace(/-/g,""))},e=function(n){var r=[],t,u,i;if(this._simpleProperties&&this._simpleProperties.length>0)for(t=0,u=this._simpleProperties.length;t<u;t++)(this._simpleProperties.hasOwnProperty(t)&&!this._simpleProperties[t].isAttribute||n==="html")&&(i=this[this._simpleProperties[t].name]()+"",i!="null"&&i!="undefined"&&r.push({name:this._simpleProperties[t].render||this._simpleProperties[t].name,value:i}));if(this._objectProperties&&this._objectProperties.length>0)for(t=0,u=this._objectProperties.length;t<u;t++)i=this[this._objectProperties[t].name](),typeof i.getParams=="function"&&(r=r.concat(i.getParams()));return r},c=function(n,i,r){var f,e,u;typeof n!="object"&&Object.prototype.toString.call(n)!=="[object Function]"&&(n={});if(i!=null)for(f in i){e=n[f],u=i[f];if(n===u)continue;r&&typeof u=="object"?(e||(e=Object.prototype.toString.call(u)==="[object Array]"?[]:{}),n[f]=c(e,u,r)):u!==t&&(n[f]=u)}return n},s=i.browser=new function(){var n=navigator.userAgent.toLowerCase();this.isOpera=n.indexOf("opera")>-1,this.isKonq=n.indexOf("konqueror")>-1,this.isChrome=n.indexOf("chrome")>-1,this.isSafari=n.indexOf("safari")>-1&&!this.isChrome,this.isKhtml=this.isSafari||this.isKonq||this.isChrome,this.isIE=n.indexOf("msie")!=-1&&!this.isOpera,this.isIE6XPSP2=this.isIE&&n.indexOf("sv1")>-1,this.isIE7=this.isIE&&n.indexOf("msie 7.0")>-1,this.isIE8=this.isIE&&n.indexOf("msie 8.0")>-1,this.isBeforeIE6XPSP2=this.isIE&&!this.isIE6XPSP2&&!this.isIE7&&!this.isIE8,this.isWinIE=this.isIE&&n.indexOf("mac")==-1,this.isIE64=this.isIE&&n.indexOf("win64")>-1,this.isFF=n.indexOf("firefox")>-1,this.isWindowsOS=navigator.platform.indexOf("Win")>-1,this.isMobile=n.indexOf("iphone")>-1||n.indexOf("ipad")>-1||n.indexOf("android")>-1,this.isHtmlUploaderSupported=function(){return i.Control&&i.Control.isHtmlUploaderSupported()},this.isThumbnailConverterSupported=function(){return i.Control&&i.Control.isThumbnailCreationSupported()},this.isImageRestrictionsSupported=function(){return i.Control&&i.Control.isImageRestrictionsSupported()}},r={createSimpleProperty:function(n,t){if(typeof t.name=="string"){var i="_"+t.name;n[i]=t.defaultValue,n[t.name]=function(){if(arguments.length>0)this[i]=arguments[0];else return this[i]}}},createObjectProperty:function(n,t,i){var e=new t.type,r="_"+t.name,f;n[r]=e;if(typeof t.type.init=="function")t.type.init(e,i);else{f="Can not create property '"+t.name+"'. 'init' method is not a function.",u(f);throw f;}n[t.name]=function(){var t,n;if(arguments.length>0){t=arguments[0];for(n in t)typeof this[r][n]=="function"?this[r][n](t[n]):u("Control have not "+n+" propery")}else return this[r]}},createControlProperty:function(n,i){var s;if(typeof i.name=="string"&&!i.renderOnly)try{var a="_"+i.name,c=n[a],l=n._uploader,h=l.type(),e=l.getControl(),r=i.getter,u=i.setter,o=i.render||i.name;o=o.charAt(0).toUpperCase()+o.substring(1),r===1&&(r="get"+o),u===1&&(u="set"+o);if(h==="html")r&&e[r]==null&&f('"'+r+'" is undefined.'),r&&e[u]==null&&f('"'+u+'" is undefined.'),n[i.name]=function(){return arguments.length>0?e[u](arguments[0]):e[r](o)};else if(h==="flash")n[i.name]=function(){return arguments.length>0?e.callFlash(u,arguments[0]):e.callFlash(r)};else throw new Error("Not supported: "+h);c!==t&&u&&n[i.name](c)}catch(v){s="Can't create property '"+i.name+"'.\r\n",typeof v=="string"?v=s+v:v.message=s+(v.message||v.description||v);throw v;}},createAttributeProperty:function(n,t){var u=n._uploader,i;u.type()==="html"?r.createControlProperty(n,t):u.type()==="flash"&&(i=u.getControl(),n[t.name]=function(){return arguments.length>0?i[t.name]=arguments[0]:i[t.name]})},createMethod:function(n,t){var f=n._uploader,u=f.type(),i=f.getControl(),r=t.controlMethodName||t.name;if(u==="html")n[t.name]=function(){return i[r].apply(i,arguments)};else if(u==="flash")n[t.name]=function(){var n=arguments;switch(n.length){case 0:return i.callFlash(r);case 1:return i.callFlash(r,n[0]);case 2:return i.callFlash(r,n[0],n[1]);case 3:return i.callFlash(r,n[0],n[1],n[2]);case 4:return i.callFlash(r,n[0],n[1],n[2],n[3]);case 5:return i.callFlash(r,n[0],n[1],n[2],n[3],n[4])}};else throw new Error("Not supported: "+u);},_typicalInit:function(n,t){var i,u;n._uploader=t;if(n._simpleProperties)for(i=0,u=n._simpleProperties.length;i<u;i++)n._simpleProperties.hasOwnProperty(i)&&r.createSimpleProperty(n,n._simpleProperties[i]);if(n._objectProperties)for(i=0,u=n._objectProperties.length;i<u;i++)n._objectProperties.hasOwnProperty(i)&&r.createObjectProperty(n,n._objectProperties[i],t)},_typicalReinit:function(n){var i,t,u;if(n._simpleProperties)for(t=0,u=n._simpleProperties.length;t<u;t++)n._simpleProperties.hasOwnProperty(t)&&(i=n._simpleProperties[t],i.isAttribute||r.createControlProperty(n,i));if(n._objectProperties)for(t=0,u=n._objectProperties.length;t<u;t++)n._objectProperties.hasOwnProperty(t)&&(i=n._objectProperties[t],i.type&&typeof i.type.reinit=="function"&&i.type.reinit(n[i.name]()));if(n._methods&&n._methods.length>0)for(t=0,u=n._methods.length;t<u;t++)r.createMethod(n,n._methods[t])}},v,l;i.flashDetector={detectVersion:function(){var i=null,o=navigator.plugins,h,r,s;if(o&&typeof(h=o["Shockwave Flash 2.0"]||o["Shockwave Flash"])!="undefined"){var c=h.description,t=/^.+\s+(\d+).(\d+)\s+\w(\d+)$/.exec(c),e=parseInt(t[1],10)||0,f=parseInt(t[2],10)||0,u=parseInt(t[3],10)||0;i=[e,f,u]}else if(n.ActiveXObject){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(l){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),i=[6,0,21],r.AllowScriptAccess="always"}catch(l){}}if(r)try{s=r.GetVariable("$version"),t=/^\S+\s+(\d+),(\d+),(\d+)(,\d+)?$/.exec(s),e=parseInt(t[1],10)||0,f=parseInt(t[2],10)||0,u=parseInt(t[3],10)||0,i=[e,f,u]}catch(l){}}return i||(i=[-1,-1,-1]),i}},i.debug=function(){if(!i.debug._instance){var n=function(){this.constructor=i.debug};n.prototype=i.debug.prototype,i.debug._instance=new n}return i.debug._instance},i.debug.prototype={__class:!0,_level:0,_mode:["popup","console","alert"],version:function(){return i.Control.Uploader.prototype.getVersion()},buildDate:function(){return i.Control.Uploader.prototype.getBuildDate()},mode:function(){if(arguments.length>0){var t=arguments[0];this._mode=t instanceof Array?arguments[0]:[arguments[0]]}else return this._mode},level:function(){if(arguments.length>0)this._level=arguments[0];else return this._level},showError:function(n){this.showMessage(n,1)},_showUploaderMessage:function(n){this.showMessage(n,2)},showInfo:function(n){this.showMessage(n,3)},showMessage:function(t,i){var u,s,f,r;if(i>this._level)return;for(u=0,s=this._mode.length;u<s;u++)switch(this._mode[u]){case"console":if(typeof n.console!="undefined"&&console.log){console.log(t);return}break;case"popup":if(!this._popupWindow||this._popupWindow.closed){this._popupWindow=n.open("","UploadSuiteDebugWindow","width=300,height=200,menubar=1,status=1,scrollbars=1,resizable=1");if(!this._popupWindow)break;f=this._popupWindow.document.getElementsByTagName("ol"),f&&f.length!=0||(r=[],r.push('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n'),r.push('<html xmlns="http://www.w3.org/1999/xhtml">\n'),r.push("<head>"),r.push("<title>Aurigma Upload Suite Log Window</title>"),r.push('<style type="text/css">* { margin:0; padding: 0; font-family: "Lucida Console", Monaco, monospace; } li { border-bottom:1px solid #aaa; padding: 10px; } li:nth-child(odd) { background-color: #fafafa; }</style>'),r.push("</head>"),r.push("<body>"),r.push('<input type="button" value="Clear" onclick=\'document.getElementsByTagName("ol")[0].innerHTML = "";\' />'),r.push("<ol>"),r.push("</ol>"),r.push('<input type="button" value="Clear" onclick=\'document.getElementsByTagName("ol")[0].innerHTML = "";\' />'),r.push("</body>"),r.push("</html>"),this._popupWindow.document.write(r.join("")))}var o=this._popupWindow.document.createElement("li"),e=this._popupWindow.document.createElement("pre"),h=this._popupWindow.document.createTextNode(t);e.appendChild(h),o.appendChild(e),this._popupWindow.document.getElementsByTagName("ol")[0].appendChild(o);return;case"alert":alert(t);return}}},v=function(){function t(n){var l=n.name,t=n.type,o=n.tagName.toLowerCase(),f,u,i,r;if(!l||n.disabled||t=="reset"||t=="button"||t=="file"||t=="submit"||t=="image"||(t=="checkbox"||t=="radio")&&!n.checked||o=="select"&&n.selectedIndex==-1)return null;if(o=="select"){f=n.selectedIndex;if(f<0)return null;var s=[],h=n.options,e=t=="select-one",c=e?f+1:h.length;for(u=e?f:0;u<c;u++){i=h[u];if(i.selected){r=i.value,r||(r=i.attributes&&i.attributes.value&&!i.attributes.value.specified?i.text:i.value);if(e)return r;s.push(r)}}return s}return n.value}function n(n){var f=[],o=n.elements,e,c,s,u,i,r,h;if(!o)return f;for(e=0,c=o.length;e<c;e++){s=o[e],u=s.name;if(!u)continue;i=t(s);if(i&&i.constructor==Array)for(r=0,h=i.length;r<h;r++)f.push({name:u,value:i[r],array:!0,first:r===0});else i!==null&&typeof i!="undefined"&&f.push({name:u,value:i})}return f}return{formToArray:n}}(),a.prototype={__class:!0,type:function(){function n(n){for(var e=(n+"").split("|"),i,t,r,h,f,l,o,u=0,c=e.length-1;u<c;u++){i=e[u].toLowerCase();if(i==="html"){if(s.isHtmlUploaderSupported()){t=!0,t&&!s.isImageRestrictionsSupported()&&(r=this.restrictions(),t=!(r.minImageWidth()>0||r.minImageHeight()>0||r.maxImageWidth()>0||r.maxImageHeight()>0));if(t&&!s.isThumbnailConverterSupported())for(h=this.converters(),f=0,l=h.count();f<l;f++){o=h.get(f);if(o&&/=thumbnail/i.test(o.mode())){t=!1;break}}if(t)return i}}else if(i==="flash")if(this.flashControl().isFlashSupported())return i}return e[e.length-1]}if(arguments.length>0)this._platform=n.call(this,arguments[0]);else{if(!this._platform){var t="html|flash";this._platform=n.call(this,t)}return this._platform}},state:function(){if(arguments.length>0)this._state=arguments[0];else return this._state},set:function(n){for(var t in n)typeof this[t]=="function"?this[t](n[t]):u("Uploader haven't "+t+" property.")},render:function(r){var v=this,p=this.id(),e=this.events(),a=function(i,r){return function(f){var c=!0,e,h,l,s,o;if(i._handlers&&i._handlers.length>0){switch(r){case"restrictionFailed":e=[f.code];break;case"beforePackageUpload":e=[f.index];break;case"afterPackageUpload":e=[f.index,f.response];break;case"afterUpload":e=[f.response];break;case"error":e=[f.errorCode,f.httpStatus,f.response,f.additionalInfo];break;case"progress":e=[f.percent,f.uploadedFiles,f.totalFiles,f.uploadedBytes,f.totalBytes];break;case"trace":e=[f.log];break;case"uploadFileCountChange":e=[f.cause];break;case"selectionChange":e=[f.select];break;case"ImageEditorClose":e=[f.index,f.result,f.guid]}for(h=0,l=i._handlers.length;h<l;h++)try{s=i._handlers[h],typeof s=="function"?o=s.apply(v,e):typeof n[s]=="function"?o=n[s].apply(v,e):u(r+' error:\n "'+s+'" handler is not defined.'),(r==="beforeUpload"||r==="afterPackageUpload")&&(c?o!==t&&(c=o===!1||o===0?!1:!0):o=c)}catch(a){u(r+" error:\n"+(a.message||a.description||a));throw a;}}return o}},h,l,y,o,c,f,s;for(e.preRender().count()>0&&a(e.preRender(),"preRender")(),i.debug().level()>=2&&e.trace&&e.trace().add(function(n){i.debug()._showUploaderMessage(n)}),h=this.getParams(),l={},f=0,y=h.length;f<y;++f){o=h[f].name;if(/listener$/.test(o))continue;o=o.substring(0,1).toUpperCase()+o.substring(1),l[o]=h[f].value}c=this._htmlUploaderControl=new i.Control.Uploader(l);for(f in e)f!="getParams"&&f!="preRender"&&(s=e[f],typeof s=="function"&&s()instanceof i.event&&s().count()>0&&c.addEventListener(f,a(s(),f)));c.render(r)},writeHtml:function(t){var r=this.type(),i,u;if(r==="html")t||(i="au_uploader_placeholder"+(Math.random()*1e6|0),document.write('<div style="display: none;" id="'+i+'"></div>')),this.render(t),i&&(i=document.getElementById(i),u=document.getElementById(this.id()),i.parentNode.replaceChild(u,i));else if(r==="flash")n.document.write(this._getFlashHtml());else throw new Error("Not supported: "+r);},getHtml:function(){var n=this.type();if(n==="html")return this._getHtmlHtml();if(n==="flash")return this._getFlashHtml();throw new Error("Not supported: "+n);},_getFlashHtml:function(){var c,o,r,e,h;if(!this.flashControl().isFlashSupported()&&s.isMobile)return c=[],o=this.width(),o=/^\d+$/.test(o)?o+"px":o,r=this.height(),r=/^\d+$/.test(r)?r+"px":r,c.push('<div style="position: relative; z-index: 1000; background-color: #f7f7f7; overflow: hidden; width: '+o+"; height: "+r+'">'),c.push('<div style="text-align:center; margin-top: 10px;"> Browser is not supported. </div>'),c.push("</div>"),c.join("");var v=this,y=this.id(),f=this.events(),a=function(i,r){return function(){var s=!0,o,h,e,f;if(i._handlers&&i._handlers.length>0)for(o=0,h=i._handlers.length;o<h;o++)try{e=i._handlers[o],typeof e=="function"?f=e.apply(v,arguments):typeof n[e]=="function"?f=n[e].apply(v,arguments):u(r+' error:\n "'+e+'" handler is not defined.'),(r==="beforeUpload"||r==="afterPackageUpload")&&(s?f!==t&&(s=f===!1||f===0?!1:!0):f=s)}catch(c){u(r+" error:\n"+(c.message||c.description||c));throw c;}return f}};f.preRender().count()>0&&a(f.preRender(),"preRender")(),i.debug().level()>=2&&f.trace&&f.trace().add(function(n){i.debug()._showUploaderMessage(n)});for(e in f)e!="getParams"&&e!="preRender"&&(h=f[e],typeof h=="function"&&h()instanceof i.event&&h().count()>0&&(n[b(this,e)]=a(h(),e)));return l(this).html()},_getHtmlHtml:function(){var i=this,u=Math.random()*1e5|0,f="__"+i.id()+"_initElement"+u,t=("__"+i.id()+"_initFunction"+u).replace(/\W+/g,""),r=!1;return n[t]=function(){if(r)return;r=!0,setTimeout(function(){var r=document.getElementById(f),u;if(!r)return;i.render(r),u=r.parentNode;while(r.hasChildNodes())u.insertBefore(r.firstChild,r);u.removeChild(r.nextSibling),u.removeChild(r),delete n[t]},0)},'<div id="'+f+'"></div><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onload="'+t+'();" />'},getElement:function(){return this.getControl()},getControl:function(){var t=this.type();return t==="html"?this._htmlUploaderControl:t==="flash"?n.document.getElementById(this.id()):void 0},getParams:function(){var n=e.call(this,this.type());return n.push({name:"debugMode",value:i.debug().level()>=2}),n.push({name:"traceToJS",value:!0}),n},registerCallback:function(n,t,i){this._clbs=this._clbs||{},this._clbs[n]=this._clbs[n]||[],this._clbs[n].push({func:t,ctx:i})},_invokeCallback:function(n,t){var u,i,f,r;if(!this._clbs||!this._clbs[n])return;for(u=this._clbs[n],i=0,f=u.length;i<f;i++)r=u[i],r.func.apply(r.ctx,t)},id:function(){}},o.prototype={__class:!0,initComplete:function(){},preRender:function(){},getParams:function(){for(var r=[],n,i,t=0,u=this._eventNames.length;t<u;t++)n=this._eventNames[t],i=this[n],typeof i=="function"&&i().count()>0&&r.push({name:n.toLowerCase()+"listener",value:b(this._uploader,n)});return r}},o.init=function(n,t){var u,e,r,f;for(n._uploader=t,u=n._eventNames,e=function(){var n=new i.event;return function(){return arguments.length>0&&n.add(arguments[0]),n}},r=0,f=u.length;r<f;r++)n[u[r]]=e()},o.prototype.constructor=o,i.commonDialog=function(){},i.commonDialog.prototype={__class:!0,_simpleProperties:[{name:"cancelButtonText",getter:1,setter:1,render:"CommonDialogCancelButtonText"},{name:"okButtonText",getter:1,setter:1,render:"CommonDialogOkButtonText"}],getParams:e,cancelButtonText:function(){},okButtonText:function(){}},i.commonDialog.init=r._typicalInit,i.commonDialog.reinit=r._typicalReinit,i.converter=function(n){i.converter.init&&i.converter.init(),this.mode("*.*=SourceFile"),n&&this.set(n)},i.converter.init=function(){var t=i.converter.prototype,n,f,u;if(t._simpleProperties)for(n=0,f=t._simpleProperties.length;n<f;n++)t._simpleProperties.hasOwnProperty(n)&&(u=t._simpleProperties[n],r.createSimpleProperty(t,u));delete i.converter.init},i.converter.prototype={__class:!0,_simpleProperties:[{name:"thumbnailBgColor",getter:1,setter:1,render:"ConverterThumbnailBgColor"},{name:"thumbnailCopyExif",getter:1,setter:1,render:"ConverterThumbnailCopyExif"},{name:"thumbnailCopyIptc",getter:1,setter:1,render:"ConverterThumbnailCopyIptc"},{name:"thumbnailFitMode",getter:1,setter:1,render:"ConverterThumbnailFitMode"},{name:"thumbnailHeight",getter:1,setter:1,render:"ConverterThumbnailHeight"},{name:"thumbnailJpegQuality",getter:1,setter:1,render:"ConverterThumbnailJpegQuality"},{name:"thumbnailWatermark",getter:1,setter:1,render:"ConverterThumbnailWatermark"},{name:"thumbnailWidth",getter:1,setter:1,render:"ConverterThumbnailWidth"},{name:"thumbnailApplyCrop",getter:1,setter:1,render:"ConverterThumbnailApplyCrop"},{name:"thumbnailApplyDrawTool",getter:1,setter:1,render:"ConverterThumbnailApplyDrawTool"},{name:"getThumbnailWatermarkPreview",render:"getConverterThumbnailWatermarkPreview"}],mode:function(){if(arguments.length>0)arguments[0]&&(this._validateMode(arguments[0]),this._mode=arguments[0]);else return this._mode},thumbnailBgColor:function(){},thumbnailCopyExif:function(){},thumbnailCopyIptc:function(){},thumbnailFitMode:function(){},thumbnailHeight:function(){},thumbnailJpegQuality:function(){},thumbnailWidth:function(){},thumbnailWatermark:function(){},getThumbnailWatermarkPreview:function(){},thumbnailApplyCrop:function(){},thumbnailApplyDrawTool:function(){},set:function(n){if(n){typeof n.toJson=="function"&&(n=n.toJson());for(var t in n)(!n.hasOwnProperty||n.hasOwnProperty(t))&&typeof this[t]=="function"&&n[t]!=null&&this[t](n[t])}},toJson:function(){var i={},r,t,n,u;this.mode()&&(i.mode=this.mode());if(this._simpleProperties)for(n=0,u=this._simpleProperties.length;n<u;n++)this._simpleProperties.hasOwnProperty(n)&&(t=this._simpleProperties[n],r=this[t.name](),r!=null&&(i[t.name]=r));return i},_validateMode:function(n){var t=/^((.*=)?(SourceFile|Thumbnail|Icon|None|Zip);)*(.*=)?(SourceFile|Thumbnail|Icon|None|Zip);?$/i;return t.test(n)?!0:(u("Converter mode string is not valid.\n"+n),!1)}},i.converter.prototype.constructor=i.converter,i.converter.reinit=function(n,t,i){var r,f,u;if(i==="html"){n.mode=function(){if(arguments.length>0)arguments[0]&&(this._validateMode(arguments[0]),t.setConverterMode(this._index,arguments[0]));else return t.getConverterMode(this._index)};if(n._simpleProperties)for(r=0,f=n._simpleProperties.length;r<f;r++)u=n._simpleProperties[r],n._simpleProperties.hasOwnProperty(r)&&!u.isAttribute&&function(i){var f=i.getter,u=i.setter,r;f===1||u===1?(r=i.render||i.name,r=r.charAt(0).toUpperCase()+r.substring(1),f===1&&(f="get"+r),u===1&&(u="set"+r)):f||u||(u=f=i.render||i.name),n[i.name]=function(){if(arguments.length>0){if(arguments[0]!=null)return t[u](this._index,arguments[0])}else return t[f](this._index)}}(u)}else if(i==="flash"){n.mode=function(){if(arguments.length>0)arguments[0]&&(this._validateMode(arguments[0]),t.callFlash("setConverterMode",this._index,arguments[0]));else return t.callFlash("getConverterMode",this._index)},n.mode.isUploaderProperty=!0;if(n._simpleProperties)for(r=0,f=n._simpleProperties.length;r<f;r++)u=n._simpleProperties[r],n._simpleProperties.hasOwnProperty(r)&&!u.isAttribute&&function(i){var u=i.getter,f=i.setter,r;(u===1||f===1)&&(r=i.render||i.name,r=r.charAt(0).toUpperCase()+r.substring(1),u===1&&(u="get"+r),f===1&&(f="set"+r)),n[i.name]=function(){if(arguments.length>0){if(arguments[0]!=null)return t.callFlash(f,this._index,arguments[0])}else return t.callFlash(u,this._index)},n[i.name].isUploaderProperty=!0}(u)}else throw new Error("Not supported: "+i);},i.converters=function(){},i.converters.prototype={__class:!0,add:function(){var n;return n=arguments[0]instanceof i.converter?arguments[0]:new i.converter(arguments[0]),this._converters.push(n),n},count:function(){return this._converters.length},get:function(n){return this._converters[n]},remove:function(n){this._converters.splice(n,1)},removeAll:function(){this._converters.length=0;while(this.count()>0)this.remove(0)}},i.converters.init=function(n,t){n._uploader=t,n._converters=[new i.converter({mode:"*.*=SourceFile"})]},i.converters.reinit=function(t){var c;try{f("Reinit converters.");for(var l=t._uploader,o=l.type(),r=l.getControl(),h=[],e=0,s=t._converters.length;e<s;e++)c=t._converters[e],h.push(c.toJson());t._items=[],t.get=function(n){if(n<this.count()){if(this._items&&this._items[n])return this._items[n];this._items=this._items||[];var t=new i.converter;return t._index=n,i.converter.reinit(t,r,o),this._items[n]=t,t}return null};if(o==="html"){while(r.getConverterCount()>0)r.removeConverter(0);t.add=function(){var i=r.addConverter("*.*=SourceFile"),t;if(i>=0){if(arguments[0]){t=this.get(i);try{t.set(arguments[0])}catch(f){n.console.error(f.stack)}return t}}else return u("Converter hasn't been added."),null},t.count=function(){return r.getConverterCount()},t.remove=function(n){r.removeConverter(n),this._items.splice(n,1);for(var t=0,i=this._items.length;t<i;t++)this._items[t]._index=t}}else if(o==="flash"){while(r.callFlash("getConverterCount")>0)r.callFlash("removeConverter",0);t.add=function(){var t=r.callFlash("addConverter","*.*=None"),n;if(t>=0){if(arguments[0])return n=this.get(t),n.set(arguments[0]),n}else return u("Converter hasn't been added."),null},t.count=function(){return r.callFlash("getConverterCount")},t.remove=function(n){r.callFlash("removeConverter",n),this._items.splice(n,1);for(var t=0,i=this._items.length;t<i;t++)this._items[t]._index=t}}else throw new Error("Not supported: "+o);for(e=0,s=h.length;e<s;e++)t.add(h[e])}catch(a){u("Converters initialization failed.\n"+(a.message||a.description||a));throw a;}},i.descriptionEditor=function(){},i.descriptionEditor.prototype={__class:!0,_simpleProperties:[{name:"cancelButtonText",getter:1,setter:1,render:"DescriptionEditorCancelButtonText"},{name:"saveButtonText",getter:1,setter:1,render:"DescriptionEditorSaveButtonText"}],getParams:e,cancelButtonText:function(){},saveButtonText:function(){}},i.descriptionEditor.init=r._typicalInit,i.descriptionEditor.reinit=r._typicalReinit,i.events=function(){},i.events.prototype=new o,c(i.events.prototype,{_eventNames:[t,t,"beforeUpload","afterUpload","beforePackageUpload","afterPackageUpload","progress","error","restrictionFailed","addingFiles","trace","uploadFileCountChange","selectionChange","ImageEditorClose"],beforeUpload:function(){},afterUpload:function(){},beforePackageUpload:function(){},afterPackageUpload:function(){},progress:function(){},error:function(){},restrictionFailed:function(){},addingFiles:function(){},trace:function(){},uploadFileCountChange:function(){},selectionChange:function(){},ImageEditorClose:function(){}},!0),i.events.init=o.init,i.events.prototype.constructor=i.events,i.file=function(n){n&&this.set(n),this.constructor=i.file.prototype},i.file.prototype={__class:!0,angle:function(){},description:function(){},height:function(){},name:function(){},selected:function(){},size:function(){},width:function(){},remove:function(){},guid:function(){},getPreview:function(){},onUpload:function(){},iconCssClass:function(){},tag:function(){},showImageEditor:function(){},cropBounds:function(){}},i.file.reinit=function(n,i,r){if(r=="html")i.angle=function(t){if(t||t===0)n.setUploadFileAngle(this._index,t);else return n.getUploadFileAngle(this._index)},i.description=function(t){if(typeof t!="undefined")n.setUploadFileDescription(this._index,t);else return n.getUploadFileDescription(this._index)},i.height=function(){return n.getUploadFileHeight(this._index)},i.guid=function(){return n.getUploadFileGuid(this._index)},i.name=function(){return n.getUploadFileName(this._index)},i.size=function(){return n.getUploadFileSize(this._index)},i.width=function(){return n.getUploadFileWidth(this._index)},i.remove=function(){return n.uploadFileRemoveAt(this._index)},i.selected=function(t){if(typeof t=="undefined")return n.getUploadFileSelectionAt(this._index);n.setUploadFileSelectionAt(this._index,t)},i.iconCssClass=function(){return n.getUploadFileIconCssClassAt(this._index)},i.getPreview=function(t){return n.getUploadFilePreviewSrcAt(this._index,t.callback.bind(i),t.size)},i.onUpload=function(t){return n.uploadFileOnUpdateAt(this._index,t.bind(i))},i.tag=function(t){if(typeof t=="undefined")return n.getUploadFileTagAt(this._index);n.setUploadFileTagAt(this._index,t)},i.showImageEditor=function(){n.showImageEditorById(this.guid())},i.cropBounds=function(t){if(typeof t=="undefined")return n.getUploadFileCropBounds(this._index);arguments.length==4?n.setUploadFileCropBounds(this._index,arguments):(t instanceof Array||t==null)&&n.setUploadFileCropBounds(this._index,t)};else if(r==="flash")i.angle=function(t){if(t||t===0)n.callFlash("setUploadFileAngle",this._index,t);else return n.callFlash("getUploadFileAngle",this._index)},i.description=function(i){if(i!==t)n.callFlash("setUploadFileDescription",this._index,i);else return n.callFlash("getUploadFileDescription",this._index)},i.height=function(){return n.callFlash("getUploadFileHeight",this._index)},i.name=function(){return n.callFlash("getUploadFileName",this._index)},i.selected=function(i){if(i!==t)n.callFlash("setUploadFileSelected",this._index,i);else return n.callFlash("getUploadFileSelected",this._index)},i.size=function(){return n.callFlash("getUploadFileSize",this._index)},i.width=function(){return n.callFlash("getUploadFileWidth",this._index)},i.remove=function(){return n.callFlash("removeAt",this._index,!0)},i.guid=function(){return n.callFlash("getUploadFileGuid",this._index)};else throw new Error("Not supported: "+r);},i.files=function(){},i.files.prototype={__class:!0,count:function(){return 0},get:function(){return null},remove:function(){},add:function(){}},i.files.init=r._typicalInit,i.files.reinit=function(n){f("Reinit files API.");var u=n._uploader,r=u.type(),t=u.getControl();n.get=function(n){if(n<this.count()){if(this._items&&this._items[n])return this._items[n];this._items=this._items||[];var u=new i.file;return i.file.reinit(t,u,r),u._index=n,this._items[n]=u,u}return null};if(r==="html")n.count=function(){return t.getUploadFileCount()},n.removeAll=function(){return t.uploadFileRemoveAll()},n.remove=function(n){return t.uploadFileRemoveAt(n)},n.add=function(n,i){typeof i=="string"?t.addUploadFilesAsBase64([[n,i]]):(n,i)&&t.addUploadFilesAsBlob([[n,i]])};else if(r==="flash")n.count=function(){return t.callFlash("getUploadFileCount")},n.removeAll=function(){return t.callFlash("removeAll")},n.remove=function(n){var i=n&&n.constructor&&n.constructor===Array;return i?t.callFlash("removeItems",n):t.callFlash("removeAt",n,!0)};else throw new Error("Not supported: "+r);},i.flashControl=function(){},i.flashControl.prototype={_simpleProperties:[{name:"codeBase",defaultValue:"Scripts/aurigma.imageuploaderflash.swf",isAttribute:!0},{name:"themeUrl",getter:1,setter:1,renderOnly:!0},{name:"ipServiceUrl",getter:1,setter:1,renderOnly:!0},{name:"bgColor",isAttribute:!0},{name:"wmode",isAttribute:!0},{name:"quality",isAttribute:!0},{name:"maxFileToLoadSize",getter:1,setter:1},{name:"version",isAttribute:!0},{name:"actualVersion",getter:1},{name:"actualReleaseDate",getter:1},{name:"topPaneVisibility",getter:1,setter:1},{name:"statusPaneVisibility",getter:1,setter:1}],flashVersionRequired:[10,1,0],codeBase:function(){},maxFileToLoadSize:function(){},themeUrl:function(){},bgColor:function(){},wmode:function(){},quality:function(){},isFlashSupported:function(){for(var u=i.flashDetector.detectVersion(),t=this.flashVersionRequired,n=0,r=t.length;n<r;n++){if(u[n]<t[n])return!1;if(u[n]>t[n])return!0}return!0},getParams:e},i.flashControl.init=r._typicalInit,i.flashControl.reinit=r._typicalReinit,i.imagePreviewWindow=function(){},i.imagePreviewWindow.prototype={_simpleProperties:[{name:"closePreviewTooltip",getter:1,setter:1}],closePreviewTooltip:function(){}},i.imagePreviewWindow.init=r._typicalInit,i.imagePreviewWindow.reinit=r._typicalReinit,i.informationBar=function(){},i.informationBar.prototype={__class:!0,_simpleProperties:[],_methods:[{name:"show",controlMethodName:"showInformationBar"}],getParams:e,show:function(){}},i.informationBar.init=r._typicalInit,i.informationBar.reinit=r._typicalReinit,i.informationBar.prototype.constructor=i.informationBar,i.uploadPane=function(){},i.uploadPane.prototype={_simpleProperties:[{name:"addFilesButtonText",getter:1,setter:1},{name:"addFolderButtonText",getter:1,setter:1},{name:"iconItemWidth",getter:1,setter:1},{name:"iconSize",getter:1,setter:1},{name:"tileItemWidth",getter:1,setter:1},{name:"tilePreviewSize",getter:1,setter:1},{name:"thumbnailPreviewSize",getter:1,setter:1},{name:"viewMode",getter:1,setter:1},{name:"dropFilesHereText",getter:1,setter:1}],dropFilesHereText:function(){},addFolder:function(){this._uploader.type()==="html"&&this._uploader.getControl().addFiles(!0)},addFolders:function(){this.addFolder()},addFiles:function(){this._uploader.type()==="html"&&this._uploader.getControl().addFiles()},addFilesButtonText:function(){},addFolderButtonText:function(){},iconItemWidth:function(){},iconSize:function(){},tileItemWidth:function(){},tilePreviewSize:function(){},thumbnailPreviewSize:function(){},viewMode:function(){}},i.uploadPane.init=r._typicalInit,i.uploadPane.reinit=r._typicalReinit,i.messages=function(){},i.messages.prototype={__class:!0,_simpleProperties:[{name:"cannotReadFile",getter:1,setter:1},{name:"dimensionsTooLarge",getter:1,setter:1},{name:"dimensionsTooSmall",getter:1,setter:1},{name:"fileNameNotAllowed",getter:1,setter:1,render:"FileNameNotAllowedMessage"},{name:"fileSizeTooSmall",getter:1,setter:1},{name:"filesNotAdded",getter:1,setter:1},{name:"maxFileCountExceeded",getter:1,setter:1},{name:"maxFileSizeExceeded",getter:1,setter:1},{name:"maxTotalFileSizeExceeded",getter:1,setter:1},{name:"memoryLimitReached",getter:1,setter:1},{name:"previewNotAvailable",getter:1,setter:1},{name:"tooFewFiles",getter:1,setter:1},{name:"tooManyFilesSelectedToOpen",getter:1,setter:1},{name:"dndFolderFileLimitExceeded",getter:1,setter:1}],dndFolderFileLimitExceeded:function(){},cannotReadFile:function(){},dimensionsTooLarge:function(){},dimensionsTooSmall:function(){},fileNameNotAllowed:function(){},fileSizeTooSmall:function(){},filesNotAdded:function(){},maxFileCountExceeded:function(){},maxFileSizeExceeded:function(){},maxTotalFileSizeExceeded:function(){},memoryLimitReached:function(){},previewNotAvailable:function(){},tooFewFiles:function(){},tooManyFilesSelectedToOpen:function(){}},i.messages.init=r._typicalInit,i.messages.reinit=r._typicalReinit,i.metadata=function(){},i.metadata.prototype={__class:!0,_simpleProperties:[{name:"exif",getter:1,setter:1,render:"ExtractExif"},{name:"iptc",getter:1,setter:1,render:"ExtractIptc"},{name:"valueSeparator",getter:1,setter:1,render:"MetadataValueSeparator"},{name:"enableAllStandardFields",getter:1,setter:1,render:"EnableAllStandardFields"}],addCustomField:function(n,t,i){this._customFields=this._customFields||[],n&&t!=null&&this._customFields.push({action:"add",name:n,value:t,add:i})},removeCustomField:function(n){this._customFields=this._customFields||[],n&&this._customFields.push({action:"remove",name:n})},additionalFormName:function(n){if(arguments.length==0)return this._formName;this._beforeUploadHandler&&(this._uploader.events().beforeUpload().remove(this._beforeUploadHandler),delete this._beforeUploadHandler,delete this._formName),n&&(this._formName=n,this._beforeUploadHandler=function(){var i=this.metadata(),f=document.forms[i._formName],u,r,t,n;if(f){u=v.formToArray(f),r=u.length;if(r>0)for(t=0;t<r;t++)n=u[t],!n.array||n.first?i.addCustomField(n.name,n.value):i.addCustomField(n.name,n.value,!0)}},this._uploader.events().beforeUpload().add(this._beforeUploadHandler))},getParams:e,exif:function(){},iptc:function(){},valueSeparator:function(){}},i.metadata.init=r._typicalInit,i.metadata.reinit=function(n){var u,s,i;f("Reinit metadata.");var o=n._uploader,e=o.type(),t=o.getControl();if(e==="html")n.addCustomField=function(n,i,r){n&&t.addCustomField(n,i,!!r)},n.removeCustomField=function(n){n!=null&&t.removeCustomField(n)},n.exif=function(n){t.setExtractExif(n)},typeof n._exif!="undefined"&&t.setExtractExif(n._exif),n.iptc=function(n){t.setExtractIptc(n)},typeof n._iptc!="undefined"&&t.setExtractIptc(n._iptc),n.valueSeparator=function(n){t.setMetadataValueSeparator(n)},typeof n._valueSeparator!="undefined"&&t.setMetadataValueSeparator(n._valueSeparator);else if(e==="flash")n.addCustomField=function(n,i,r){t.callFlash("addCustomField",n,i,!!r)},n.removeCustomField=function(n){n!=null&&t.callFlash("removeCustomField",n)};else throw new Error("Not supported: "+e);if(n._customFields&&n._customFields.length>0)for(u=0,s=n._customFields.length;u<s;u++){i=n._customFields[u];switch(i.action){case"add":n.addCustomField(i.name,i.value,i.add);break;case"remove":n.removeCustomField(i.name)}}r._typicalReinit(n)},i.restrictions=function(){},i.restrictions.prototype={__class:!0,_simpleProperties:[{name:"fileMask",getter:1,setter:1},{name:"deniedFileMask",getter:1,setter:1},{name:"maxFileCount",getter:1,setter:1},{name:"maxFileSize",getter:1,setter:1},{name:"maxImageHeight",getter:1,setter:1},{name:"maxImageWidth",getter:1,setter:1},{name:"maxTotalFileSize",getter:1,setter:1},{name:"minFileCount",getter:1,setter:1},{name:"minFileSize",getter:1,setter:1},{name:"minImageHeight",getter:1,setter:1},{name:"minImageWidth",getter:1,setter:1},{name:"minImageWidthHeightLogic",getter:1,setter:1}],getParams:e,fileMask:function(){},deniedFileMask:function(){},maxFileCount:function(){},maxFileSize:function(){},maxImageHeight:function(){},maxImageWidth:function(){},maxTotalFileSize:function(){},minFileCount:function(){},minFileSize:function(){},minImageHeight:function(){},minImageWidth:function(){},minImageWidthHeightLogic:function(){}},i.restrictions.init=r._typicalInit,i.restrictions.reinit=r._typicalReinit,i.statusPane=function(){},i.statusPane.prototype={_simpleProperties:[{name:"dataUploadedText",getter:1,setter:1,render:"StatusPaneDataUploadedText"},{name:"filesPreparedText",getter:1,setter:1,render:"StatusPaneFilesPreparedText"},{name:"filesToUploadText",getter:1,setter:1},{name:"filesUploadedText",getter:1,setter:1,render:"StatusPaneFilesUploadedText"},{name:"noFilesToUploadText",getter:1,setter:1},{name:"preparingText",getter:1,setter:1,render:"StatusPanePreparingText"},{name:"sendingText",getter:1,setter:1,render:"StatusPaneSendingText"},{name:"visible",getter:1,setter:1,render:"StatusPaneVisibility"},],visible:function(){},dataUploadedText:function(){},filesPreparedText:function(){},filesToUploadText:function(){},filesUploadedText:function(){},noFilesToUploadText:function(){},preparingText:function(){},sendingText:function(){}},i.statusPane.init=r._typicalInit,i.statusPane.reinit=r._typicalReinit,i.topPane=function(){},i.topPane.prototype={_simpleProperties:[{name:"addFilesHyperlinkText",getter:1,setter:1},{name:"addFolderHyperlinkText",getter:1,setter:1},{name:"clearAllHyperlinkText",getter:1,setter:1},{name:"orText",getter:1,setter:1},{name:"showViewComboBox",getter:1,setter:1},{name:"titleText",getter:1,setter:1},{name:"viewComboBox",getter:1,setter:1},{name:"viewComboBoxText",getter:1,setter:1},{name:"visible",getter:1,setter:1,render:"TopPaneVisibility"}],visible:function(){},addFolderHyperlinkText:function(){},addFilesHyperlinkText:function(){},clearAllHyperlinkText:function(){},orText:function(){},showViewComboBox:function(){},titleText:function(){},viewComboBox:function(){},viewComboBoxText:function(){}},i.topPane.init=r._typicalInit,i.topPane.reinit=r._typicalReinit,i.uploadSettings=function(){},i.uploadSettings.prototype={__class:!0,_simpleProperties:[{name:"_actionInternal",getter:1,setter:1,render:"actionUrl",defaultValue:document.location.href},{name:"chunkSize",getter:1,setter:1},{name:"progressBytesMode",getter:1,setter:1},{name:"enableInstantUpload",getter:1,setter:1},{name:"urlEncodedFilenames",getter:1,setter:1,render:"filenamesUrlEncoded"},],enableInstantUpload:function(n){if(typeof n!="undefined")this.enableInstantUpload(n);else return this.enableInstantUpload()},actionUrl:function(n){return n?((n=="."||n=="./")&&(n=document.location.href),this._actionInternal(n)):this._actionInternal()},chunkSize:function(){},progressBytesMode:function(){},redirectUrl:function(){var u,r,i;if(arguments.length>0){for(this._redirectUrl=arguments[0],u=!1,r=this._uploader.events().afterUpload()._handlers,i=0;r.length;i++)if(r[i]==this._afterUpload){u=!0;break}u||(this._afterUpload=function(){setTimeout(function(){!this._redirectUrl||(n.location=this._redirectUrl)}.bind(this),100)}.bind(this),this._uploader.events().afterUpload().add(this._afterUpload))}else return this._redirectUrl},getParams:e},i.uploadSettings.init=function(n,t){r._typicalInit(n,t),n.redirectUrl(n.redirectUrl())},i.uploadSettings.reinit=r._typicalReinit,i.paneItem=function(){},i.paneItem.prototype={__class:!0,_simpleProperties:[{name:"descriptionEditorIconTooltip",getter:1,setter:1},{name:"enableDisproportionalExifThumbnails",getter:1,setter:1},{name:"imageTooltip",getter:1,setter:1},{name:"itemTooltip",getter:1,setter:1},{name:"removalIconTooltip",getter:1,setter:1},{name:"rotationIconTooltip",getter:1,setter:1},{name:"toolbarAlwaysVisible",getter:1,setter:1,render:"paneItemToolbarAlwaysVisible"}],getParams:e,descriptionEditorIconTooltip:function(){},enableDisproportionalExifThumbnails:function(){},imageTooltip:function(){},itemTooltip:function(){},removalIconTooltip:function(){},rotationIconTooltip:function(){},toolbarAlwaysVisible:function(){}},i.paneItem.init=r._typicalInit,i.paneItem.reinit=r._typicalReinit,i.uploadErrorDialog=function(){},i.uploadErrorDialog.prototype={_simpleProperties:[{name:"hideDetailsButtonText",getter:1,setter:1,render:"UploadErrorDialogHideDetailsButtonText"},{name:"message",getter:1,setter:1,render:"UploadErrorDialogMessage"},{name:"showDetailsButtonText",getter:1,setter:1,render:"UploadErrorDialogShowDetailsButtonText"},{name:"title",getter:1,setter:1,render:"UploadErrorDialogTitle"}],hideDetailsButtonText:function(){},message:function(){},showDetailsButtonText:function(){},title:function(){},getParams:e},i.uploadErrorDialog.init=r._typicalInit,i.uploadErrorDialog.reinit=r._typicalReinit,i.addFilesProgressDialog=function(){},i.addFilesProgressDialog.prototype={_simpleProperties:[{name:"text",getter:1,setter:1,render:"AddFilesProgressDialogText"},{name:"waitText",getter:1,setter:1,render:"AddFilesProgressDialogWaitText"}],text:function(){}},i.addFilesProgressDialog.init=r._typicalInit,i.addFilesProgressDialog.reinit=r._typicalReinit,i.imageEditor=function(){},i.imageEditor.prototype={_simpleProperties:[{name:"enableCrop",getter:1,setter:1,render:"ImageEditorEnableCrop"},{name:"enableDrawTool",getter:1,setter:1,render:"ImageEditorEnableDrawTool"},{name:"cropRatio",getter:1,setter:1,render:"ImageEditorCropRatio"},{name:"cropMinSize",getter:1,setter:1,render:"ImageEditorCropMinSize"},{name:"drawTool",getter:1,setter:1,render:"ImageEditorDrawTool"},{name:"defaultTool",getter:1,setter:1,render:"ImageEditorDefaultTool"}],_methods:[{name:"show",controlMethodName:"showImageEditorById"}]},i.imageEditor.init=r._typicalInit,i.imageEditor.reinit=r._typicalReinit,i.imageUploaderFlash=function(n){return new i.imageUploaderFlash.fn.init(n)},i.imageUploaderFlash.fn=i.imageUploaderFlash.prototype=new a,c(i.imageUploaderFlash.fn,{_simpleProperties:[t,{name:"cancelUploadButtonText",getter:1,setter:1},{name:"enableAddingFiles",getter:1,setter:1},{name:"enableAutoRotation",getter:1,setter:1},{name:"enableDescriptionEditor",getter:1,setter:1},{name:"enableRotation",getter:1,setter:1},{name:"enableInstantUpload",getter:1,setter:1},{name:"height",getter:1,setter:1,defaultValue:"400px",isAttribute:!0},{name:"licenseKey",getter:1,setter:1,renderOnly:!0},{name:"uploadButtonText",getter:1,setter:1},{name:"locale",getter:1,setter:1},{name:"width",getter:1,setter:1,defaultValue:"600px",isAttribute:!0},{name:"folderProcessingMode",getter:1,setter:1,defaultValue:"none",isAttribute:!0},{name:"enableImageEditor",getter:1,setter:1,render:"EnableImageEditor"},{name:"enableExifPreview",getter:1,setter:1,render:"EnableExifPreview"}],_objectProperties:[{name:"addFilesProgressDialog",type:i.addFilesProgressDialog},{name:"imageEditor",type:i.imageEditor},{name:"commonDialog",type:i.commonDialog},{name:"converters",type:i.converters},{name:"descriptionEditor",type:i.descriptionEditor},{name:"events",type:i.events},{name:"files",type:i.files},{name:"flashControl",type:i.flashControl},{name:"imagePreviewWindow",type:i.imagePreviewWindow},{name:"informationBar",type:i.informationBar},{name:"messages",type:i.messages},{name:"metadata",type:i.metadata},{name:"paneItem",type:i.paneItem},{name:"restrictions",type:i.restrictions},{name:"statusPane",type:i.statusPane},{name:"topPane",type:i.topPane},{name:"uploadErrorDialog",type:i.uploadErrorDialog},{name:"uploadPane",type:i.uploadPane},{name:"uploadSettings",type:i.uploadSettings}],_methods:[{name:"upload",controlMethodName:"upload"},{name:"cancelUpload",controlMethodName:"cancelUpload"}],init:function(n){var t,e,o,u;if(typeof n=="string")return y.get(n);for(this._uploader=this,t=0,e=this._simpleProperties.length;t<e;t++)this._simpleProperties.hasOwnProperty(t)&&r.createSimpleProperty(this,this._simpleProperties[t]);for(t=0,e=this._objectProperties.length;t<e;t++)o=this._objectProperties[t],o.type===i.converters?(u=new i.converters,i.converters.init(u,this),this[o.name]=function(){var t=arguments[0],n,i;if(t instanceof Array){u._converters.length=0;while(u.count()>0)u.remove(0);for(n=0,i=t.length;n<i;n++)u.add(t[n])}else return u}):r.createObjectProperty(this,o,this);return this.events().initComplete(function(){this.reinit()}),f("Start apply uploader init object."),this.set(n),f("Finish apply uploader init object."),y.put(this),this},reinit:function(){var u,o,e,t,n,i;f("Start control re-initialization."),this.type()=="flash"&&(u=document.getElementById(this.id()),e=function(n){return typeof n.preventDefault=="function"&&n.preventDefault(),typeof n.stopPropagation=="function"&&n.stopPropagation(),n.returnValue=!1,!1},typeof u.addEventListener=="function"?(u.addEventListener("DOMMouseScroll",e,!1),u.addEventListener("mousewheel",e,!1)):typeof u.attachEvent=="function"&&u.attachEvent("onmousewheel",e)),f("Reinit control properties.");if(this._simpleProperties)for(n=0,i=this._simpleProperties.length;n<i;n++)t=this._simpleProperties[n],this._simpleProperties.hasOwnProperty(n)&&(t.isAttribute?r.createAttributeProperty(this,t):r.createControlProperty(this,t));if(this._objectProperties)for(n=0,i=this._objectProperties.length;n<i;n++)t=this._objectProperties[n],this._objectProperties.hasOwnProperty(n)&&t.type&&typeof t.type.reinit=="function"&&t.type.reinit(this[t.name]());f("Creating methods.");if(this._methods&&this._methods.length>0)for(n=0,i=this._methods.length;n<i;n++)r.createMethod(this,this._methods[n]);f("Control re-initialization completed."),this.state(1)},cancelUploadButtonText:function(){},enableAddingFiles:function(){},enableAutoRotation:function(){},enableDescriptionEditor:function(){},enableRotation:function(){},height:function(){},licenseKey:function(){},locale:function(){},uploadButtonText:function(){},width:function(){},version:function(){return this.type()==="html"?this.getControl().getVersion():this.type()==="flash"?this.flashControl().actualVersion():""},buildDate:function(){return this.type()==="html"?this.getControl().getBuildDate():this.type()==="flash"?this.flashControl().actualReleaseDate():""},addFilesProgressDialog:i.addFilesProgressDialog,imageEditor:i.imageEditor,commonDialog:i.commonDialog,converters:i.converters,descriptionEditor:i.descriptionEditor,events:i.events,files:i.files,flashControl:i.flashControl,imagePreviewWindow:i.imagePreviewWindow,informationBar:i.informationBar,messages:i.messages,metadata:i.metadata,paneItem:i.paneItem,restrictions:i.restrictions,statusPane:i.statusPane,topPane:i.topPane,uploadErrorDialog:i.uploadErrorDialog,uploadPane:i.uploadPane,uploadSettings:i.uploadSettings,upload:function(){},cancelUpload:function(){}},!0),i.imageUploaderFlash.__class=!0,i.imageUploaderFlash.prototype.constructor=i.imageUploaderFlash,i.imageUploaderFlash.fn.init.prototype=i.imageUploaderFlash.fn,i.event=function(){this._handlers=this._handlers||[]},i.event.prototype={__class:!0,add:function(n){if(n instanceof Array)for(var t=0,i=n.length;t<i;t++)this._handlers.push(n[t]);else this._handlers.push(n)},remove:function(n){for(var t in this._handlers)if(this._handlers[t]===n)return this._handlers.splice(t,1),!0;return!1},clear:function(){this._handlers=[]},count:function(){return this._handlers.length}},i.event.prototype.constructor=i.event,l=function(t){if(!t)return;var i=function(){function b(){for(var i=t.getParams(),n=0,r=i.length;n<r;n++)i[n]=i[n].name+"="+i[n].value;return i.join("&")+"&controlId="+t.id()}var o=t.flashControl().codeBase(),l=t.flashControl().version(),s,e,c,v,h,f,y,a,u;l&&(o.indexOf("?")>-1?o=o+"&version="+l:o+="?version="+l);var i=[],f,v,w=t.id(),k=t.flashControl().flashVersionRequired.join(","),r={id:w,name:w,width:t.width(),height:t.height()};n.ActiveXObject?(r.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",r.codebase=n.location.protocol+"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+k):(r.data=o,r.type="application/x-shockwave-flash"),s=t.flashControl(),e={quality:s.quality()||"high",bgcolor:s.bgColor()||"#869ca7",wmode:s.wmode()||"window",allowScriptAccess:"always",flashvars:b()},n.ActiveXObject&&(e.movie=o),c=[t,{resultHtml:""}],t._invokeCallback("flashBeforeOpenTagRender",c),(u=c[1].resultHtml)&&i.push(u),v="object",i.push("<"+v+" "),h=[t,{resultHtml:""}],t._invokeCallback("flashRenderStyleAttribute",h),(u=h[1].resultHtml)&&i.push(' style="'+u+'" ');for(f in r)(!r.hasOwnProperty||r.hasOwnProperty(f))&&i.push(f+'="'+p(r[f])+'" ');i.push(">");for(f in e)(!e.hasOwnProperty||e.hasOwnProperty(f))&&i.push('<param name="'+f+'" value="'+p(e[f])+'" /> ');return y=[t,{resultHtml:""}],t._invokeCallback("flashBeforeCloseTagRender",y),(u=y[1].resultHtml)&&i.push(u),i.push("</"+v+">"),a=[t,{resultHtml:""}],t._invokeCallback("flashAfterCloseTagRender",a),(u=a[1].resultHtml)&&i.push(u),i.join("")};return{html:i,write:function(){document.write(this.html())}}},n.$au||typeof h=="undefined"||(n.$au=h),n.$au&&(n.$au.imageUploaderFlash=h.imageUploaderFlash)})(window)